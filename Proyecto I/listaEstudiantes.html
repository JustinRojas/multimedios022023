<!DOCTYPE html>
<html lang="en">

<head>
    <title>Index Estudiantes </title>
    <!-- Required meta tags -->
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no" />

    <!-- Bootstrap CSS v5.2.1 -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.1/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-iYQeCzEYFbKjA/T2uDLTpkwGzCiq6soy8tYaI1GyVh/UjpbCx/TYkiZhlZB6+fzT" crossorigin="anonymous" />

    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.1.1/css/all.min.css"
        integrity="sha512-KfkfwYDsLkIlwQp6LFnl8zNdLGxu9YAA1QvwINks4PhcElQSvqcyVLLD9aMhXd13uQjoXtEKNosOWaZqXgel0g=="
        crossorigin="anonymous" referrerpolicy="no-referrer">
    <link rel="stylesheet" href="style.css">
</head>

<body>


    <header id="headerplace">

    </header>
    <main>

        <div class=" modal fade " id="alerta" tabindex="-1" data-bs-backdrop="static" data-bs-keyboard="false"
            role="dialog" aria-labelledby="modalTitleId" aria-hidden="true">
            <div class="alerta modal-dialog modal-dialog-scrollable modal-dialog-centered modal-sm" role="document">
                <div class="ms modal-content">

                    <div id="liveAlertPlaceholder" class="modal-body">

                    </div>

                </div>
            </div>
        </div>

        <div class="container">
            <div class="row">
                <div class="col align-self-start">

                    <blockquote class="blockquote">
                        <p id="frase">Welcome to students view</p>
                    </blockquote>
                </div>
                <div class="col align-self-center">

                </div>
                <div class="col align-self-end ">
                    <!-- Botón que para crear curso -->
                    <button type="button" onClick="crearEstudiante()" class="btn btn-primary btn-md mt-4 mb-4 "
                        data-bs-toggle="modal" data-bs-target="#modalId">
                        Vista para agregar un nuevo estudiante
                    </button>
                </div>
            </div>
        </div>





        <div class="table-responsive">
            <table class="table table-striped table-hover table-borderless table-success align-middle">
                <thead class="table-light">
                    <caption>
                        Tabla de estudiantes
                    </caption>
                    <tr>
                        <th>ID</th>
                        <th>Nombre</th>
                        <th>Apellido Paterno</th>
                        <th>Apellido Materno</th>
                        <th>Cédula</th>
                        <th>Fecha nacimiento</th>
                        <th>Correo electronico</th>
                        <th>Teléfono</th>
                        <th>Teléfono celular</th>
                        <th>Id carrera</th>
                        <th>Nacionalidad</th>
                        <th>Usuario</th>
                        <th>Acciones</th>
                    </tr>
                </thead>
                <tbody id="resultados" class="table-group-divider"></tbody>
                <tfoot></tfoot>
            </table>
        </div>


        <div class="modal fade" id="modalId" tabindex="-1" data-bs-backdrop="static" data-bs-keyboard="false"
            role="dialog" aria-labelledby="modalTitleId" aria-hidden="true">
            <div class="modal-dialog modal-dialog-scrollable modal-dialog-centered modal-lg" role="document">
                <div class="modal-content">
                    <div class="modal-header">
                        <h5 class="modal-title" id="modalTitleId">Modal title</h5>
                        
                    </div>
                    <div class="modal-body">
                       
                        <form id="formulario" action="">

                           
                            <div id="div-id" class="mb-3">


                            </div>

                            <div class="mb-3">
                                <label for="" class="form-label">Nombre</label>
                                <input type="text" name="" id="nombre" required class="form-control" placeholder=""
                                    aria-describedby="helpId">
                                <small id="helpId" class="text-muted">Campo requerido</small>
                            </div>

                            <div class="mb-3">
                                <label for="" class="form-label">Apellido paterno</label>
                                <input type="text" name="" id="apellidoPaterno" required class="form-control"
                                    placeholder="" aria-describedby="helpId">
                                <small id="helpId" class="text-muted">Campo requerido</small>
                            </div>
                            <div class="mb-3">
                                <label for="" class="form-label">Apellido materno</label>
                                <input type="text" name="" id="apellidoMaterno" required class="form-control"
                                    placeholder="" aria-describedby="helpId">
                                <small id="helpId" class="text-muted">Campo requerido</small>
                            </div>


                            <div class="mb-3">
                                <label for="" class="form-label">Sexo</label>

                                <select class="form-select form-select-md" required name="select" id="sexo">
                                    <option value=""> Seleccione una opción</option>
                                    <option value="Masculino">Masculino</option>
                                    <option value="Femenino"> Femenino</option>
                                    <option value="Indefinido"> Indefenido</option>
                                </select>

                                <small id="helpId" class="text-muted">Campo requerido</small>
                            </div>
                            <div class="mb-3">
                                <label for="" class="form-label">Cédula</label>
                                <input type="text" name="" id="cedula" onkeyup="this.value=validacion(this.value)"
                                    required class="form-control" placeholder="Ejemplo: 6-0464-0262"
                                    aria-describedby="helpId">
                                <small id="helpId" class="text-muted">Formato #-0###-0###</small>
                            </div>
                            <div class="mb-3">
                                <label for="" class="form-label">Fecha nacimiento</label>
                                <input type="date" name="" id="fechaNacimiento" required class="form-control"
                                    placeholder="" aria-describedby="helpId">
                                <small id="helpId" class="text-muted">Campo requerido</small>
                            </div>
                            <div class="mb-3">
                                <label for="" class="form-label">Correo</label>
                                <input type="email" name="" id="correo" required class="form-control" placeholder=""
                                    aria-describedby="helpId">
                                <small id="helpId" class="text-muted">Campo requerido</small>
                            </div>
                            <div class="mb-3">
                                <label for="" class="form-label">Teléfono</label>
                                <input type="number" name="" id="telefono" required class="form-control" placeholder=""
                                    aria-describedby="helpId">
                                <small id="helpId" class="text-muted">Campo requerido</small>
                            </div>
                            <div class="mb-3">
                                <label for="" class="form-label">Dirección</label>
                                <input type="text" name="" id="direccion" required class="form-control" placeholder=""
                                    aria-describedby="helpId">
                                <small id="helpId" class="text-muted">Campo requerido</small>
                            </div>
                            <div class="mb-3">
                                <label for="" class="form-label">Teléfono celular</label>
                                <input type="number" name="" id="telefonoCelular" required class="form-control"
                                    placeholder="" aria-describedby="helpId">
                                <small id="helpId" class="text-muted">Campo requerido</small>
                            </div>
                            <div class="mb-3">
                                <label for="" class="form-label">Grupo </label>
                                <select class="form-select form-select-md" required name="" id="idCarrera">
                                    <option value=""> Seleccione un grupo</option>
                                </select>

                            </div>
                            <div class="mb-3">
                                <label for="" class="form-label">Nacionalidad</label>
                                <input type="text" name="" id="nacionalidad" required class="form-control"
                                    placeholder="" aria-describedby="helpId">
                                <small id="helpId" class="text-muted">Campo requerido</small>
                            </div>
                            <div class="mb-3">
                                <button type="reset" id="cancel-rest" class="btn btn-danger">Cancelar</button>
                                <button type="submit" id="" class="btn btn-primary">Guardar</button>

                                
                            </div>
                            
                        </form>
                    </div>
                    <div class="modal-footer">
                        

                    </div>
                </div>
            </div>
        </div>


        <!-- MODAL DE DATALLES -->
        <div class="modal fade" id="modalDetalles" tabindex="-1" data-bs-backdrop="static" data-bs-keyboard="false"
            role="dialog" aria-labelledby="modalTitleId" aria-hidden="true">
            <div class="modal-dialog modal-dialog-scrollable modal-dialog-centered modal-lg" role="document">
                <div class="modal-content">
                    <div class="modal-header">
                        <h5 class="modal-title" id="tite">Detalles estudiante</h5>
                        
                    </div>
                    <div class="modal-body">

                        <form id="formDetalles" action="">
                            <div class="mb-3">
                                <label for="" class="form-label">Id</label>
                                <input type="text" name="" id="idEs" readonly
                                    style="background-color: rgb(184, 184, 184);" required class="form-control"
                                    placeholder="ingresar nombre del curso" aria-describedby="helpId">

                            </div>
                            <div class="mb-3">
                                <label for="" class="form-label">Nombre</label>
                                <input type="text" name="" id="nombreEs" readonly required class="form-control"
                                    placeholder="ingresar nombre del curso" aria-describedby="helpId">

                            </div>

                            <div class="mb-3">
                                <label for="" class="form-label">Apellido paterno</label>
                                <input type="text" name="" id="apellidoP" readonly required class="form-control"
                                    placeholder="" aria-describedby="helpId">

                            </div>
                            <div class="mb-3">
                                <label for="" class="form-label">Apellido materno</label>
                                <input type="text" name="" id="apellidoM" readonly required class="form-control"
                                    placeholder="" aria-describedby="helpId">
                                <small id="helpId" class="text-muted">Campo requerido</small>
                            </div>


                            <div class="mb-3">
                                <label for="" class="form-label">Sexo</label>
                                <input type="text" name="" id="sexoEs" readonly required class="form-control"
                                    placeholder="" aria-describedby="helpId">

                            </div>
                            <div class="mb-3">
                                <label for="" class="form-label">Cédula</label>
                                <input type="text" name="" id="cedulaEs" readonly required class="form-control"
                                    placeholder="" aria-describedby="helpId">

                            </div>
                            <div class="mb-3">
                                <label for="" class="form-label">Fecha nacimiento</label>
                                <input type="date" name="" id="fechaNacimientoEs" readonly required class="form-control"
                                    placeholder="" aria-describedby="helpId">

                            </div>
                            <div class="mb-3">
                                <label for="" class="form-label">Correo</label>
                                <input type="text" name="" id="correoEs" readonly required class="form-control"
                                    placeholder="" aria-describedby="helpId">

                            </div>
                            <div class="mb-3">
                                <label for="" class="form-label">Teléfono</label>
                                <input type="text" name="" id="telefonoEs" readonly required class="form-control"
                                    placeholder="" aria-describedby="helpId">

                            </div>
                            <div class="mb-3">
                                <label for="" class="form-label">Dirección</label>
                                <input type="text" name="" id="direccionEs" readonly required class="form-control"
                                    placeholder="" aria-describedby="helpId">

                            </div>
                            <div class="mb-3">
                                <label for="" class="form-label">Teléfono celular</label>
                                <input type="text" name="" id="telefonoCelularEs" readonly required class="form-control"
                                    placeholder="" aria-describedby="helpId">

                            </div>
                            <div class="mb-3">
                                <label for="" class="form-label">Id carrera</label>
                                <input type="text" name="" id="idCarreraEs" readonly required class="form-control"
                                    placeholder="" aria-describedby="helpId">

                            </div>
                            <div class="mb-3">
                                <label for="" class="form-label">Nacionalidad</label>
                                <input type="text" name="" id="nacionalidadEs" readonly required class="form-control"
                                    placeholder="" aria-describedby="helpId">

                            </div>
                            <!-- <div class="mb-3">
                                <button type="reset" id="cancel-rest" class="btn btn-danger">Cancelar</button>
                                <button type="submit" id="" class="btn btn-primary">Guardar</button>
                            </div> -->




                        </form>

                    </div>
                    <div class="modal-footer">
                        <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>

                    </div>
                </div>
            </div>
        </div>

    </main>
    <footer id="footerPages" class="text-muted py-5">


        <!-- Modal Body -->
        <!-- if you want to close by clicking outside the modal, delete the last endpoint:data-bs-backdrop and data-bs-keyboard -->
        <div class="modal fade" id="modalEliminar" tabindex="-1" data-bs-backdrop="static" data-bs-keyboard="false"
            role="dialog" aria-labelledby="modalTitleId" aria-hidden="true">
            <div class="modal-dialog modal-dialog-scrollable modal-dialog-centered modal-sm" role="document">
                <div class="modal-content">
                    <div class="modal-header">
                        <h5 class="modal-title" id="modalTitleId">Modal eliminar</h5>
                       
                    </div>
                    <div class="modal-body">
                        <div id="modalcontent">

                        </div>
                        <form id="formConfirmacion" action="">
                            <button type="reset" class="btn btn-danger" data-bs-dismiss="modal">Eliminar</button>
                            <button type="submit" style="float: right;"class="btn btn-secondary">Cerrar</button>
                        </form>

                    </div>
                    <div class="modal-footer">

                    </div>
                </div>
            </div>
        </div>




    </footer>



    <!-- <td>${valor.telefonocelular}</td>
  <td>${valor.nacionalidad}</td> -->

    <!-- Optional: Place to the bottom of scripts -->


    <script src="menu.js"> </script>

    <!-- {"id":"377","nombre":"hola leo","descripcion":"sdsd","tiempo":"asasa"}, -->
    <!-- Bootstrap JavaScript Libraries -->
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.6/dist/umd/popper.min.js"
        integrity="sha384-oBqDVmMz9ATKxIep9tiCxS/Z9fNfEXiDAYTujMAeBAsjFuCZSmKbSSUnQlmh/jp3"
        crossorigin="anonymous"></script>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.1/dist/js/bootstrap.min.js"
        integrity="sha384-7VPbUDkoPSGFnVtYi0QogXtr74QeVeeIs99Qfg5YCF+TidwNdjvaKZX19NZ/e6oz"
        crossorigin="anonymous"></script>

    <script>


        var contenidoSelect = document.getElementById("idCarrera");

        function cargarGrupos() {
            fetch("https://paginas-web-cr.com/ApiPHP/apis/ListaGrupo.php")
                .then((respuesta) => respuesta.json()) //recibe los datos em formato json
                .then((datosrespuesta) => {
                    set(datosrespuesta.data); //lo envio a la funcion de abajo
                    // console.log('Datos', datosrespuesta.data);
                })
                .catch(console.log);
        }

        function set(datos) {

            console.log("Datos", datos);

            for (const valor of datos) {
                console.log("valor", valor);
                contenidoSelect.innerHTML +=
                    `<option value="${valor.id}"> ${valor.id}  ${valor.nombre} </option> `;
            }
        }


        var alertPlaceholder = document.getElementById('liveAlertPlaceholder')
        const alerta = new bootstrap.Modal(document.getElementById('alerta'))

        // FUNCION PARA MOESTRAR EL ALERT

        function alerts(message, type) {
            var wrapper = document.createElement('div')
            wrapper.innerHTML = '<div class="alert alert-' + type + ' alert-dismissible" role="alert">' + message + '<button type="button" onClick="cargar()" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button></div>'
            alertPlaceholder.append(wrapper)

            alerta.show();

        }
        function cargar() {
            location.reload();
        }

        function validacion(string) {//Solo numeros
            var out = '';
            var filtro = '1234567890-';
            for (var i = 0; i < string.length; i++)
                if (filtro.indexOf(string.charAt(i)) != -1)
                    //Se añaden a la salida los caracteres validos
                    out += string.charAt(i);
            return out;
        }

        //declaracion de variabe
        var contenidoTablaResultado = document.querySelector("#resultados");
        var tipoFuncion;
        function cargarDatos() {
            fetch("https://paginas-web-cr.com/ApiPHP/apis/ListaEstudiantes.php")
                .then((respuesta) => respuesta.json()) //recibe los datos em formato json
                .then((datosrespuesta) => {
                    setTable(datosrespuesta.data); //lo envio a la funcion de abajo
                    // console.log('Datos', datosrespuesta.data);
                })
                .catch(console.log);
        }

        function setTable(datos) {
            console.log("Datos", datos);

            for (const valor of datos) {
                console.log("valor", valor);
                contenidoTablaResultado.innerHTML += `
          <tr class="table-primary">
            <td scope="row">${valor.id}</td>
            <td >${valor.nombre}</td>
            <td>${valor.apellidopaterno}</td>
            <td>${valor.apellidomaterno}</td>
            <td>${valor.cedula}</td>
            <td>${valor.fechanacimiento}</td>
            <td>${valor.correoelectronico}</td>
            <td>${valor.telefono}</td>
            <td>${valor.telefonocelular}</td>
            <td>${valor.idCarreras}</td>
            <td>${valor.nacionalidad}</td> 
            <td>${valor.usuario}</td>
            <td class="col-md-1">
   
                  <button type="button" onClick="eliminar('${valor.id}', '${valor.nombre}')" class=" mb-1 btn-sm btn btn-danger" data-bs-toggle="modal" data-bs-target="#modalEliminar">
                    <i class="fa-solid fa-trash"></i>
                  </button>
                  
                  <button type="button" onClick="cargarModal('${valor.id}','${valor.nombre}', '${valor.apellidopaterno}', 
                  '${valor.apellidomaterno}', '${valor.cedula}', '${valor.fechanacimiento}', '${valor.correoelectronico}',
                  '${valor.telefono}','${valor.telefonocelular}','${valor.idCarreras}', '${valor.nacionalidad}', '${valor.sexo}', '${valor.direccion}' )" class="  mb-1 btn-sm btn btn-primary" data-bs-toggle="modal" data-bs-target="#modalId">
                  <i class="fa-solid fa-pen-to-square"></i>
                  </button>
                   
                  <button type="button" onClick="detalles('${valor.id}','${valor.nombre}', '${valor.apellidopaterno}', 
                  '${valor.apellidomaterno}', '${valor.cedula}', '${valor.fechanacimiento}', '${valor.correoelectronico}',
                  '${valor.telefono}','${valor.telefonocelular}','${valor.idCarreras}', '${valor.nacionalidad}', '${valor.sexo}', '${valor.direccion}')" class="  mb-1 btn-sm btn btn-info" data-bs-toggle="modal" data-bs-target="#modalDetalles">
                  <i style="color:white" class="fa-solid fa-circle-info"></i>
                  </button>

                  
              </td>

          </tr>`;
            }
        };

        // INICO BLOQUE DE DETALLES
        const modalDetails = new bootstrap.Modal(document.getElementById('modalDetalles'));

        function detalles(id, nombre, apellidopaterno, apellidomaterno, cedula, fechanacimiento
            , correoelectronico, telefono, telefonocelular, idCarreras, nacionalidad, sexo, direccion) {

            document.getElementById('idEs').value = id;
            document.getElementById('nombreEs').value = nombre;
            document.getElementById('cedulaEs').value = cedula;
            document.getElementById('apellidoM').value = apellidomaterno;
            document.getElementById('apellidoP').value = apellidopaterno;
            document.getElementById('fechaNacimientoEs').value = fechanacimiento;
            document.getElementById('correoEs').value = correoelectronico;
            document.getElementById('telefonoEs').value = telefono;
            document.getElementById('telefonoCelularEs').value = telefonocelular;
            document.getElementById('idCarreraEs').value = idCarreras;
            document.getElementById('nacionalidadEs').value = nacionalidad;

            document.getElementById('direccionEs').value = direccion;
            document.getElementById('sexoEs').value = sexo;

        };



        // FIN BLOQUE DETALLES

        //INICIO BLOQUE DE ELIMINAR

        const mdDelete = new bootstrap.Modal(document.getElementById('modalEliminar'));

        var formConfirmacion = document.getElementById('formConfirmacion');
        var modalcontent = document.getElementById('modalcontent');

        function eliminar(id, nombre) {
            confirmarEliminacion(id, nombre);

        };

        function confirmarEliminacion(id, nombre) {
            mdDelete.show();
            modalcontent.innerHTML = `<h6 > Desea eliminar el estudiante ${nombre} con id ${id} </h6>`;

            formConfirmacion.addEventListener('reset', function (e) {
                e.preventDefault();


                datosenviar = {
                    id: `${id}`
                }

                fetch("https://paginas-web-cr.com/ApiPHP/apis/BorrarEstudiantes.php",
                    {
                        method: 'POST', //por que es el método que se usa para insertar
                        body: JSON.stringify(datosenviar)
                    }
                ).then((respuesta) => respuesta.json().ok)             //recibe los datos em formato json
                    .then((datosrespuesta) => {
                        console.log('Datos, datosrespuesta');
                    })
                    .catch(error => console.error('Error:', error))
                    .then(response => alerts('Eliminando...', 'danger'));

            });

            formConfirmacion.addEventListener('submit', function (e) {
                mdDelete.hide();
                
                e.preventDefault();
            });
        };


        // Cargar datos de los cursos




        //FIN BLOQUE DE ELIMINAR


        const myModal = new bootstrap.Modal(document.getElementById('modalId'));
        //nuestra referencia al modal

        function cerrarModal() {
            myModal.hide();

        }

        var divId = document.getElementById('div-id');
        //  método que carga el modal de editar con los datos del estudiante
        function cargarModal(id, nombre, apellidopaterno, apellidomaterno, cedula, fechanacimiento
            , correoelectronico, telefono, telefonocelular, idCarreras, nacionalidad, sexo, direccion) {
            myModal.show();
            divId.innerHTML = `<label  class="form-label"> Id</label>
                                <input type="text" style="background-color: rgb(189, 187, 187);"   value="${id}" readonly required class="form-control"
                                    placeholder="" aria-describedby="helpId">`;
            console.log(id, nombre, cedula)
            document.getElementById('nombre').value = nombre;
            document.getElementById('cedula').value = cedula;
            document.getElementById('apellidoMaterno').value = apellidomaterno;
            document.getElementById('apellidoPaterno').value = apellidopaterno;
            document.getElementById('fechaNacimiento').value = fechanacimiento;
            document.getElementById('correo').value = correoelectronico;
            document.getElementById('telefono').value = telefono;
            document.getElementById('telefonoCelular').value = telefonocelular;
            document.getElementById('idCarrera').value = idCarreras;
            document.getElementById('nacionalidad').value = nacionalidad;

            document.getElementById('direccion').value = direccion;
            document.getElementById('sexo').value = sexo;

            actualizarEstudiante(id);

        };

        //Método que se encarga de actualizar
        function actualizarEstudiante(id) {
            cargarGrupos();
            formulario.addEventListener('submit', function (e) {
                e.preventDefault();

                var nombre = document.getElementById('nombre').value;
                var cedula = document.getElementById('cedula').value;
                var apellidoMaterno = document.getElementById('apellidoMaterno').value;
                var apellidoPaterno = document.getElementById('apellidoPaterno').value;
                var fechaNacimiento = document.getElementById('fechaNacimiento').value;
                var correo = document.getElementById('correo').value;
                var telefono = document.getElementById('telefono').value;
                var telefonoCelular = document.getElementById('telefonoCelular').value;
                var idCarrera = document.getElementById('idCarrera').value;
                var nacionalidad = document.getElementById('nacionalidad').value;

                var direccion = document.getElementById('direccion').value;
                var sexo = document.getElementById('sexo').value;



                var datosenviar = {
                    id: `${id}`,  //se agregó este id
                    cedula: `${cedula}`,
                    correoelectronico: `${correo}`, //los datos que se ocupan para insertar
                    telefono: `${telefono}`,
                    telefonocelular: `${telefonoCelular}`,
                    fechanacimiento: `${fechaNacimiento}`,
                    sexo: `${sexo}`,
                    direccion: `${direccion}`,
                    nombre: `${nombre}`,
                    apellidopaterno: `${apellidoPaterno}`,
                    apellidomaterno: `${apellidoMaterno}`,
                    nacionalidad: `${nacionalidad}`,
                    idCarreras: `${idCarrera}`,
                    usuario: "SS"

                }

                fetch("https://paginas-web-cr.com/ApiPHP/apis/ActualizarEstudiantes.php",
                    {
                        method: 'POST', //por que es el método que se usa para insertar
                        body: JSON.stringify(datosenviar)
                    }
                ).then((respuesta) => respuesta.json().ok)             //recibe los datos em formato json
                    .then((datosrespuesta) => {
                        myModal.hide();
                    })
                    .catch(error => console.error('Error:', error))
                    .then(response => alerts('Actualizando...', 'success'));

            });

        };

        //FIN BLOQUE METODOS PARA ACTUALIZAR UN CURSO

        //  Funciones para crear curso
        var formulario = document.getElementById('formulario');


        function limpiarCampos() {

            divId.innerHTML = "";
            document.getElementById('nombre').value = "";
            document.getElementById('cedula').value = "";
            document.getElementById('apellidoMaterno').value = "";
            document.getElementById('apellidoPaterno').value = "";
            document.getElementById('fechaNacimiento').value = "";
            document.getElementById('correo').value = "";
            document.getElementById('telefono').value = "";
            document.getElementById('telefonoCelular').value = "";
            document.getElementById('idCarrera').value = "";
            document.getElementById('nacionalidad').value = "";

            document.getElementById('direccion').value = "";
            document.getElementById('sexo').value = "";

        };

        formulario.addEventListener('reset', function (e) {
            
            limpiarCampos();
            myModal.hide();
        });


        function crearEstudiante() {
            limpiarCampos();
            cargarGrupos();
            formulario.addEventListener('submit', function (e) {
                e.preventDefault();


                var nombre = document.getElementById('nombre').value;
                var cedula = document.getElementById('cedula').value;
                var apellidoMaterno = document.getElementById('apellidoMaterno').value;
                var apellidoPaterno = document.getElementById('apellidoPaterno').value;
                var fechaNacimiento = document.getElementById('fechaNacimiento').value;
                var correo = document.getElementById('correo').value;
                var telefono = document.getElementById('telefono').value;
                var telefonoCelular = document.getElementById('telefonoCelular').value;
                var idCarrera = document.getElementById('idCarrera').value;
                var nacionalidad = document.getElementById('nacionalidad').value;

                var direccion = document.getElementById('direccion').value;
                var sexo = document.getElementById('sexo').value;


                var datosenviar = {
                    cedula: `${cedula}`,
                    correoelectronico: `${correo}`, //los datos que se ocupan para insertar
                    telefono: `${telefono}`,
                    telefonocelular: `${telefonoCelular}`,
                    fechanacimiento: `${fechaNacimiento}`,
                    sexo: `${sexo}`,
                    direccion: `${direccion}`,
                    nombre: `${nombre}`,
                    apellidopaterno: `${apellidoPaterno}`,
                    apellidomaterno: `${apellidoMaterno}`,
                    nacionalidad: `${nacionalidad}`,
                    idCarreras: `${idCarrera}`,
                    usuario: "SS"
                }
                console.log(datosenviar);
                console.log(datosenviar);

                fetch("https://paginas-web-cr.com/ApiPHP/apis/InsertarEstudiantes.php",
                    {
                        method: 'POST', //por que es el método que se usa para insertar
                        body: JSON.stringify(datosenviar)
                    }
                ).then((respuesta) => respuesta.json().ok)             //recibe los datos em formato json
                    .then((datosrespuesta) => {
                        console.log('Datos, datosrespuesta');
                        myModal.hide();
                    })
                    .catch(error => console.error('Error:', error))
                    .then(response => alerts('Creando...', 'success'));

            });



        };


        cargarDatos();
    </script>
</body>

</html>